# Maintainer: Massimiliano Torromeo <massimiliano.torromeo@gmail.com>
# Contributor: Mladen Pejakovic <pejakm@gmail.com>
# Contributor: Xiao-Long Chen <chenxiaolong@cxl.epac.to>

pkgname=lightdm-kde
pkgver=0.2.1
pkgrel=1
pkgdesc="LightDM Greeter for KDE"
arch=('i686' 'x86_64')
url="https://projects.kde.org/projects/playground/base/lightdm"
license=('GPL')
depends=('lightdm' 'openssl' 'perl' 'phonon' 'kdelibs')
makedepends=('cmake')
install=lightdm-kde.install
source=("ftp://ftp.kde.org/pub/kde/unstable/$pkgname/src/$pkgname-$pkgver.tar.bz2")
noextract=("$pkgname-$pkgver.tar.bz2")

build() {
	[ -d "$srcdir/$pkgname-$pkgver" ] && rm -rf "$srcdir/$pkgname-$pkgver"
	mkdir "$srcdir/$pkgname-$pkgver"
	cd "$srcdir/$pkgname-$pkgver"

	msg "Extracting source tarball..."
	tar -xaf "$srcdir/$pkgname-$pkgver.tar.bz2"

	msg "Starting build..."
	cmake . -DCMAKE_INSTALL_PREFIX=/usr
	make
}

package() {
	cd "$srcdir/$pkgname-$pkgver"
	make DESTDIR="$pkgdir" install
}

md5sums=('641cd0ef1c5db242e140fc087472d015')
